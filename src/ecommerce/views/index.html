<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NooblyJS Store - Premium Products for Modern Living</title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <meta name="description" content="Discover premium products for modern living. Free shipping, easy returns, and exceptional customer service.">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <!-- Logo -->
            <a href="#" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-store"></i>
                </div>
                <span>NooblyJS Store</span>
            </a>

            <!-- Search -->
            <div class="flex items-center">
                <form class="flex gap-2" id="searchForm">
                    <input type="text" class="input" placeholder="Search products..." id="searchInput">
                    <button type="submit" class="btn btn-secondary">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>

            <!-- Navigation -->
            <nav class="nav flex gap-4">
                <a href="#" class="nav-link" data-page="home">Home</a>
                <a href="#" class="nav-link" data-page="categories">Categories</a>
                <a href="#" class="nav-link" data-page="products">Products</a>
                <a href="#" class="nav-link" data-page="about">About</a>
            </nav>

            <!-- User Actions -->
            <div class="header-actions">
                <button class="btn btn-ghost cart-icon" id="cartIcon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" data-cart-count>0</span>
                </button>
                <button class="btn btn-ghost" id="userBtn">
                    <i class="fas fa-user"></i>
                </button>
                <button class="btn btn-ghost md:hidden" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <nav class="mobile-nav">
                <a href="#" class="mobile-nav-link" data-page="home">Home</a>
                <a href="#" class="mobile-nav-link" data-page="categories">Categories</a>
                <a href="#" class="mobile-nav-link" data-page="products">Products</a>
                <a href="#" class="mobile-nav-link" data-page="about">About</a>
                <div class="mobile-nav-divider"></div>
                <a href="#" class="mobile-nav-link" id="mobileLoginLink">Login</a>
                <a href="#" class="mobile-nav-link" id="mobileCartLink">Cart (<span id="mobileCartCount">0</span>)</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Home Page -->
        <div id="homePage" class="page active">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>Discover Premium Products</h1>
                        <p>Transform your lifestyle with our curated collection of premium products. From cutting-edge technology to timeless fashion.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary btn-lg" data-action="shop-now">Shop Now</button>
                            <button class="btn btn-outline btn-lg" data-action="explore">Explore Categories</button>
                        </div>
                    </div>
                    <div class="hero-image">
                        <div class="hero-product-showcase">
                            <div class="showcase-item">
                                <i class="fas fa-mobile-alt"></i>
                                <span>Latest Tech</span>
                            </div>
                            <div class="showcase-item">
                                <i class="fas fa-tshirt"></i>
                                <span>Fashion</span>
                            </div>
                            <div class="showcase-item">
                                <i class="fas fa-home"></i>
                                <span>Home & Garden</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Category Navigation -->
            <section class="py-6 border-b">
                <div class="container">
                    <div class="flex flex-wrap gap-2 justify-center" id="categoriesNav">
                        <!-- Category buttons will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Featured Categories -->
            <section class="featured-categories">
                <div class="container">
                    <h2 class="section-title">Shop by Category</h2>
                    <div class="categories-grid" id="categoriesGrid">
                        <!-- Categories will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Featured Products -->
            <section class="featured-products">
                <div class="container">
                    <h2 class="section-title">Featured Products</h2>
                    <div class="products-grid" id="featuredProducts">
                        <!-- Featured products will be loaded here -->
                    </div>
                    <div class="text-center">
                        <button class="btn btn-outline" data-action="view-all-products">View All Products</button>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="features-section">
                <div class="container">
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-shipping-fast"></i>
                            </div>
                            <h3>Free Shipping</h3>
                            <p>Free shipping on orders over $100. Fast and reliable delivery worldwide.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-undo-alt"></i>
                            </div>
                            <h3>Easy Returns</h3>
                            <p>30-day return policy. Not satisfied? Return it hassle-free.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-headset"></i>
                            </div>
                            <h3>24/7 Support</h3>
                            <p>Round-the-clock customer support via chat, email, and phone.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3>Secure Payments</h3>
                            <p>Your payment information is protected with enterprise-grade security.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Categories Page -->
        <div id="categoriesPage" class="page">
            <div class="container">
                <div class="page-header">
                    <h1>All Categories</h1>
                    <p>Browse our complete collection of product categories</p>
                </div>
                <div class="categories-list" id="allCategoriesList">
                    <!-- All categories will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Products Page -->
        <div id="productsPage" class="page">
            <div class="container">
                <div class="page-header">
                    <h1>All Products</h1>
                    <div class="products-controls">
                        <div class="filter-controls">
                            <select class="filter-select" id="categoryFilter">
                                <option value="">All Categories</option>
                            </select>
                            <select class="filter-select" id="sortFilter">
                                <option value="name">Name A-Z</option>
                                <option value="price-low">Price: Low to High</option>
                                <option value="price-high">Price: High to Low</option>
                                <option value="newest">Newest First</option>
                            </select>
                        </div>
                        <div class="view-controls">
                            <button class="view-btn active" data-view="grid">
                                <i class="fas fa-th-large"></i>
                            </button>
                            <button class="view-btn" data-view="list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="products-container">
                    <div class="products-grid" id="allProductsGrid">
                        <!-- All products will be loaded here -->
                    </div>
                    <div class="pagination" id="productsPagination">
                        <!-- Pagination will be generated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Detail Page -->
        <div id="productDetailPage" class="page">
            <div class="container">
                <div class="breadcrumb" id="productBreadcrumb">
                    <!-- Breadcrumb will be generated here -->
                </div>
                <div class="product-detail" id="productDetail">
                    <!-- Product details will be loaded here -->
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="aboutPage" class="page">
            <div class="container">
                <div class="about-content">
                    <h1>About NooblyJS Store</h1>
                    <p class="lead">We're passionate about bringing you the finest products for modern living. Our carefully curated collection features premium brands and innovative designs.</p>

                    <div class="about-stats">
                        <div class="stat">
                            <h3>10,000+</h3>
                            <p>Happy Customers</p>
                        </div>
                        <div class="stat">
                            <h3>500+</h3>
                            <p>Premium Products</p>
                        </div>
                        <div class="stat">
                            <h3>50+</h3>
                            <p>Brand Partners</p>
                        </div>
                        <div class="stat">
                            <h3>99%</h3>
                            <p>Satisfaction Rate</p>
                        </div>
                    </div>

                    <div class="about-mission">
                        <h2>Our Mission</h2>
                        <p>To make premium products accessible to everyone, while providing an exceptional shopping experience that exceeds expectations.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="cart-close" id="cartClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-content" id="cartContent">
            <!-- Cart items will be loaded here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total: <strong id="cartTotal">$0.00</strong></span>
            </div>
            <button class="btn btn-primary btn-full" id="checkoutBtn">Checkout</button>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal-overlay hidden" id="authModalOverlay">
        <div class="modal" id="authModal">
            <div class="modal-header">
                <h2 id="authModalTitle">Login</h2>
                <button class="modal-close" id="authModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Login</button>
                    <button class="auth-tab" data-tab="register">Register</button>
                </div>

                <!-- Login Form -->
                <form class="auth-form" id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Login</button>
                </form>

                <!-- Register Form -->
                <form class="auth-form hidden" id="registerForm">
                    <div class="form-group">
                        <label for="registerFirstName">First Name</label>
                        <input type="text" id="registerFirstName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerLastName">Last Name</label>
                        <input type="text" id="registerLastName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email</label>
                        <input type="email" id="registerEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Register</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal-overlay hidden" id="checkoutModalOverlay">
        <div class="modal large" id="checkoutModal">
            <div class="modal-header">
                <h2>Secure Checkout</h2>
                <button class="modal-close" id="checkoutModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="checkout-container">
                    <!-- Order Summary -->
                    <div class="checkout-summary">
                        <h3>Order Summary</h3>
                        <div id="checkoutItems">
                            <!-- Cart items will be displayed here -->
                        </div>
                        <div class="checkout-totals">
                            <div class="total-line">
                                <span>Subtotal:</span>
                                <span id="checkoutSubtotal">$0.00</span>
                            </div>
                            <div class="total-line">
                                <span>Tax:</span>
                                <span id="checkoutTax">$0.00</span>
                            </div>
                            <div class="total-line">
                                <span>Shipping:</span>
                                <span id="checkoutShipping">$0.00</span>
                            </div>
                            <div class="total-line total">
                                <span>Total:</span>
                                <span id="checkoutTotal">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Checkout Form -->
                    <div class="checkout-form">
                        <form id="paymentForm">
                            <!-- Shipping Address -->
                            <div class="checkout-section">
                                <h3>Shipping Address</h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="shippingFirstName">First Name *</label>
                                        <input type="text" id="shippingFirstName" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="shippingLastName">Last Name *</label>
                                        <input type="text" id="shippingLastName" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="shippingAddress">Address *</label>
                                    <input type="text" id="shippingAddress" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="shippingCity">City *</label>
                                        <input type="text" id="shippingCity" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="shippingState">State *</label>
                                        <input type="text" id="shippingState" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="shippingZip">ZIP Code *</label>
                                        <input type="text" id="shippingZip" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="shippingCountry">Country *</label>
                                    <select id="shippingCountry" required>
                                        <option value="US">United States</option>
                                        <option value="CA">Canada</option>
                                        <option value="GB">United Kingdom</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Payment Information -->
                            <div class="checkout-section">
                                <h3>Payment Information</h3>
                                <div class="payment-element" id="payment-element">
                                    <!-- Stripe Elements will create form elements here -->
                                </div>
                                <div id="payment-message" class="payment-message hidden"></div>
                            </div>

                            <div class="checkout-actions">
                                <button type="button" class="btn btn-outline" id="cancelCheckout">Cancel</button>
                                <button type="submit" class="btn btn-primary" id="submitPayment">
                                    <span id="paymentButtonText">Complete Order</span>
                                    <div class="spinner hidden" id="paymentSpinner"></div>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>NooblyJS Store</h3>
                    <p>Premium products for modern living. Built with NooblyJS Core services for exceptional performance and reliability.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Customer Service</h3>
                    <ul class="footer-links">
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Shipping Info</a></li>
                        <li><a href="#">Returns</a></li>
                        <li><a href="#">Size Guide</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul class="footer-links">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Press</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Sustainability</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Newsletter</h3>
                    <p>Subscribe to get updates on new products and exclusive offers.</p>
                    <form class="newsletter-form">
                        <input type="email" class="newsletter-input" placeholder="Enter your email">
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 NooblyJS Store. All rights reserved. Powered by NooblyJS Core.</p>
            </div>
        </div>
    </footer>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Scripts -->
    <script src="js/shadcn-ecommerce.js"></script>
    <script>
        // Emergency modal close handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Close modal function
            function closeModal() {
                // Hide all modal overlays
                document.querySelectorAll('.modal-overlay').forEach(overlay => {
                    overlay.classList.add('hidden');
                });
                // Hide main overlay
                const overlay = document.getElementById('overlay');
                if (overlay) {
                    overlay.classList.remove('active');
                }
            }

            // Add click handlers for all modal close buttons
            document.addEventListener('click', function(e) {
                // Close button clicked
                if (e.target.matches('.modal-close') || e.target.closest('.modal-close')) {
                    e.preventDefault();
                    closeModal();
                }

                // Modal overlay background clicked
                if (e.target.matches('.modal-overlay')) {
                    closeModal();
                }
            });

            // Escape key handler
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // Make sure modals start hidden
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                if (!overlay.classList.contains('hidden')) {
                    overlay.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>